{% extends 'layouts/base.html' %}

{% block content %}




<div class="wrapper">

    <!-- The following code for a responsive, collapsible bootstrap sidebar was taken from https://bootstrapious.com/p/bootstrap-sidebar and edited. -->


    <!-- Begin Sidebar -->

    <nav id="sidebar">

        <form id="search-form" method="POST">

            <div class="sidebar-header d-flex justify-content-center">
                <h4>Search Users</h4>
            </div>


            <h5 class="filter-header skills-header"><i class="fas fa-code"></i> Skills</h5>
            <small class="skill-desc">tanDev will display users who know at least one skill selected.</small>


            <div class="row skill-column">
                {% for skill in skills %}

                {% if loop.index % 2 == 1 %}

                <div class="col-6">

                    <div class="form-check">
                        <input class="form-check-input search-card" type="checkbox" name="skill" value="{{skill}}"
                            id="skill-box">
                        <label class="form-check-label" for="skill-box">
                            {{skill}}
                        </label>
                    </div>

                </div>

                {% endif %}

                {% if loop.index % 2 == 0 %}

                <div class="col-6">

                    <div class="form-check">
                        <input class="form-check-input search-card" type="checkbox" name="skill" value="{{skill}}"
                            id="skill-box">
                        <label class="form-check-label" for="skill-box">
                            {{skill}}
                        </label>
                    </div>

                </div>
                {% endif %}

                {% endfor %}



            </div>

            <!-- The following select classes rely on the bootstrap-select library: https://developer.snapappointments.com/bootstrap-select/ -->

            <div class="row top-filter-row">


                <!-- District filter option header -->

                <div class="col-12 col-md-6">

                    <h5 class="filter-header"><i class="fas fa-location-arrow"></i> District</h5>

                </div>

                <!-- District filter options -->

                <div class="col-12 col-md-6">




                    <select class="selectpicker districtSelect" id="districtSelect" name="district" multiple
                        data-selected-text-format="count">
                        <option value="Mitte">Mitte</option>
                        <option value="Friedrichshain-Kreuzberg">Friedrichshain-Kreuzberg</option>
                        <option value="Pankow">Pankow</option>
                        <option value="Charlottenburg">Charlottenburg-Wilmersdorf</option>
                        <option value="Spandau">Spandau</option>
                        <option value="Steglitz-Zehlendorf">Steglitz-Zehlendorf</option>
                        <option value="Tempelhof-Schöneberg">Tempelhof-Schöneberg</option>
                        <option value="Neukölln">Neukölln</option>
                        <option value="Treptow-Köpenick">Treptow-Köpenick</option>
                        <option value="Marzahn-Hellersdorf">Marzahn-Hellersdorf</option>
                        <option value="Lichtenberg">Lichtenberg</option>
                        <option value="Reinickendorf">Reinickendorf</option>
                    </select>


                    <button class="refresh" id="districtRefresh"><i class="fas fa-times"></i></button>
                </div>

            </div>

            <!-- Communication filter option header -->

            <div class="div filter-row">

                <div class="row">

                    <div class="col-12">

                        <h5 class="filter-header"><i class="fas fa-comments"></i> Communication</h5> <small class="comm-desc"> tanDev will
                            display users open to all the styles selected.</small>

                    </div>
                </div>

                <!-- Communication filter options -->

                <div class="row search-comm">

                    <div class="col-12">

                        {% for commstyle in commstyles %}

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="commstyle" value="{{commstyle}}"
                                id="comm-box">
                            <label class="form-check-label" for="skill-box">
                                {{commstyle}}
                            </label>
                        </div>
                        {% endfor %}
                    </div>
                </div>

            </div>

            <div class="row justify-content-center">

                <button type="submit" class="btn btn-primary btn-large search-btn mt-5 mb-5" name="btn"
                    value="search">Search Now</button>

            </div>
        </form>

    </nav>

    <!-- End Sidebar -->

    <!-- Begin Content -->

    <div id="content">

        <div class="results">

            {% if profile_count == 0 %}

            <h5> No profiles of {{ all_profile_count }} found.</h5>

            {% endif %}

            {% if profile_count == 1 %}

            <h5> <span class="matches">1</span> profile of found, displaying match <span class="matches">1 - 1</span>
            </h5>
            {% endif %}

            {% if profile_count > 1 %}

            <h5><span class="matches">{{ profile_count }}</span> matches found, displaying <span
                    class="matches">{{first_profile}} -
                    {{last_profile}}</span></h5>

            <h6 class="paging"> Page {{page_number}} of {{total_pages}}.</h6>

            {% endif %}
        </div>
        <div class="card-deck">

            <div class="row search-row justify-content-center">

                <div class="col-12 d-flex justify-content-left">

                    {% if page_number == 1 %}

                    <p class="disabled d-inline page-buttons ml-3"><i class="fas fa-backward"></i> Previous </p>

                    {% elif page_number != 1 %}

                    <a href="{{prev_url}}" class="page-buttons ml-3"><i class="fas fa-backward"></i> Previous </a>

                    {% endif %}

                    {% if page_number == total_pages %}

                    <p class="disabled d-inline page-buttons ml-3">Next <i class="fas fa-forward"></i></p>

                    {% elif page_number != total_pages %}
                    <a href="{{next_url}}" class="page-buttons ml-3">Next <i class="fas fa-forward"></i> </a>

                    {% endif %}

                </div>


                {% for profile in profiles %}


                {% if loop.index % 2 == 1 %}
                <div class="col-12 col-md-6 d-none d-md-block justify-content-center mt-3">
                    {% include 'components/profile_card.html' %}
                </div>

                {% endif %}

                {% if loop.index % 2 == 0 %}
                <div class="col-12 col-md-6 justify-content-center mt-3">
                    {% include 'components/profile_card.html' %}
                </div>
                {% endif %}
                {% endfor %}
            </div>
        </div>



    </div>

    <!-- End Content -->

    <!-- Dark Overlay element -->
    <div class="search-overlay"></div>


</div>


{% endblock %}
